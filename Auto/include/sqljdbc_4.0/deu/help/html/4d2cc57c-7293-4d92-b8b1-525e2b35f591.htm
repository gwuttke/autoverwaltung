<html xmlns:xlink="http://www.w3.org/1999/xlink"
	xmlns:MSHelp="http://msdn.microsoft.com/mshelp"
	xmlns:mshelp="http://msdn.microsoft.com/mshelp"
	xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5"
	xmlns:msxsl="urn:schemas-microsoft-com:xslt">
<head>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8" />
<META NAME="save" CONTENT="history" />
<title>Programmieren mit SQLXML</title>
<meta name="Language" content="de-de" />
<meta name="System.Keywords" content="adaptive Pufferung" />
<meta name="System.Keywords" content="Programmieren mit sqlxml" />
<meta name="System.Keywords" content="sqlxml" />
<meta name="System.Keywords" content="xml" />
<meta name="Microsoft.Help.Id"
	content="4d2cc57c-7293-4d92-b8b1-525e2b35f591" />
<meta name="Description"
	content="In diesem Abschnitt wird beschrieben, wie Sie die API-Methoden von Microsoft JDBC Driver für SQL Server zum Speichern und Abrufen eines XML-Dokuments in bzw. aus einer relationalen Datenbank mit SQLXML-Objekten verwenden." />
<meta name="Microsoft.Help.ContentType" content="Concepts" />
<link rel="stylesheet" type="text/css" href="../local/Classic.css" />
<script type="text/javascript" src="../scripts/EventUtilities.js">&amp;nbsp;</script>
<script type="text/javascript" src="../scripts/SplitScreen.js">&amp;nbsp;</script>
<script type="text/javascript" src="../scripts/Dropdown.js">&amp;nbsp;</script>
<script type="text/javascript" src="../scripts/script_manifold.js">&amp;nbsp;</script>
<script type="text/javascript" src="../scripts/script_feedBack.js">&amp;nbsp;</script>
<script type="text/javascript" src="../scripts/CheckboxMenu.js">&amp;nbsp;</script>
<script type="text/javascript" src="../scripts/CommonUtilities.js">&amp;nbsp;</script>
<script type="text/javascript" src="../local/script_main.js">&amp;nbsp;</script>
</head>
<body>
	<div id="header">
		<table id="bottomTable" cellpadding="0" cellspacing="0">
			<tr>
				<td align="left"><span id="headerBold">Programmieren mit
						SQLXML</span></td>
			</tr>
		</table>
		<table id="gradientTable">
			<tr>
				<td class="nsrBottom" background="../icons/gradient.gif" />
			</tr>
		</table>
	</div>
	<div id="mainSection">
		<div id="mainBody">
			<div class="introduction">
				<p>
					In diesem Abschnitt wird beschrieben, wie Sie die API-Methoden von
					Microsoft JDBC Driver für SQL Server zum Speichern und Abrufen
					eines XML-Dokuments in bzw. aus einer relationalen Datenbank mit <span
						sdata="langKeyword" value="SQLXML"><span class="keyword">SQLXML</span></span>-Objekten
					verwenden.
				</p>
				<p>Außerdem sind Informationen über die Typen von
					SQLXML-Objekten und eine Liste wichtiger Richtlinien und
					Einschränkungen für die Verwendung von SQLXML-Objekten enthalten.</p>
			</div>
			<h1 class="heading">Lesen und Schreiben von XML-Daten mit
				SQLXML-Objekten</h1>
			<div id="sectionSection0" class="section" name="collapseableSection"
				style="">
				<p>In der folgenden Liste ist aufgeführt, wie Sie die
					API-Methoden von Microsoft JDBC Driver für SQL Server zum Lesen und
					Schreiben von XML-Daten mit SQLXML-Objekten verwenden.</p>
				<ul>
					<li><p>
							Zum Erstellen eines SQLXML-Objekts verwenden Sie die <a
								href="cf5bfcdd-bc03-4c5b-b554-d8a8a4067e93.htm">createSQLXML</a>-Methode
							der <a href="937292a6-1525-423e-a2b2-a18fd34c2893.htm">SQLServerConnection</a>-Klasse.
							Beachten Sie, dass mit dieser Methode ein SQLXML-Objekt ohne
							Daten erstellt wird. Rufen Sie eine der folgenden, in der
							SQLXML-Schnittstelle definierten Methoden auf, um dem
							SQLXML-Objekt <span sdata="langKeyword" value="xml"><span
								class="keyword">xml</span></span>-Daten hinzuzufügen: <b>setResult</b>,
							<b>setCharacterStream</b>, <b>setBinaryStream</b> oder <b>setString</b>.
						</p></li>
					<li><p>
							Zum Abrufen des eigentlichen SQLXML-Objekts verwenden Sie die <b>getSQLXML</b>-Methoden
							der <a href="eaffcff1-286c-459f-83da-3150778480c9.htm">SQLServerResultSet</a>-Klasse
							oder der <a href="30710a63-c05d-47d9-9cf9-c087a1c76373.htm">SQLServerCallableStatement</a>-Klasse.
						</p></li>
					<li><p>
							Verwenden Sie eine der folgenden, in der SQLXML-Schnittstelle
							definierten Methoden, um <span sdata="langKeyword" value="xml"><span
								class="keyword">xml</span></span>-Daten aus dem SQLXML-Objekt
							abzurufen: <b>getSource</b>, <b>getCharacterStream</b>, <b>getBinaryStream</b>
							oder <b>getString</b>.
						</p></li>
					<li><p>
							Zum Aktualisieren der <span sdata="langKeyword" value="xml"><span
								class="keyword">xml</span></span>-Daten in einem SQLXML-Objekt
							verwenden Sie die <a
								href="abe8ff37-72e5-4ec1-a226-6b68dbf2c1b4.htm">updateSQLXML</a>-Methode
							der <a href="eaffcff1-286c-459f-83da-3150778480c9.htm">SQLServerResultSet</a>-Klasse.
						</p></li>
					<li><p>
							Zum Speichern eines SQLXML-Objekts in einer
							Datenbank-Tabellenspalte vom Typ <span sdata="langKeyword"
								value="xml"><span class="keyword">xml</span></span> verwenden
							Sie die <b>setSQLXML</b>-Methoden der <a
								href="a8481c06-fbba-432b-8c69-4f4619c20ad4.htm">SQLServerPreparedStatement</a>-Klasse
							oder der <a href="30710a63-c05d-47d9-9cf9-c087a1c76373.htm">SQLServerCallableStatement</a>-Klasse.
						</p></li>
				</ul>
				<p>
					Der Beispielcode im <a
						href="8f2ff25b-71fd-46d7-b6de-d656095d2aad.htm">Beispiel für
						den SQLXML-Datentyp</a> veranschaulicht die Ausführung dieser
					allgemeinen API-Aufgaben.
				</p>
			</div>
			<h1 class="heading">Lesbare und schreibbare SQLXML-Objekte</h1>
			<div id="sectionSection1" class="section" name="collapseableSection"
				style="">
				<p>In der folgenden Tabelle sind die Typen von SQLXML-Objekten
					aufgeführt, die von den von der JDBC-API bereitgestellten Methoden
					zum Festlegen, Abrufen und Aktualisieren unterstützt werden. Die
					Spalten der Tabelle haben die folgende Bedeutung:</p>
				<ul>
					<li><p>
							In der Spalte <b>Methodenname</b> werden die unterstützten
							Methoden zum Abrufen, Festlegen und Aktualisieren in der JDBC-API
							aufgeführt.
						</p></li>
					<li><p>
							Die Spalte <b>SQLXML-Abrufobjekt</b> stellt ein SQLXML-Objekt
							dar, das entweder mit der <a
								href="8bcf9eda-b36c-480c-8bf2-91c392d5a0ee.htm">getSQLXML</a>-Methode
							der <a href="30710a63-c05d-47d9-9cf9-c087a1c76373.htm">SQLServerCallableStatement</a>-Klasse
							oder der <a href="a07e0f30-cbc6-4ad7-b931-c30cad382e64.htm">getSQLXML</a>-Methode
							der <a href="eaffcff1-286c-459f-83da-3150778480c9.htm">SQLServerResultSet</a>-Klasse
							erstellt wird.
						</p></li>
					<li><p>
							Die Spalte <b>SQLXML-Festlegungsobjekt</b> stellt ein
							SQLXML-Objekt dar, das von der <a
								href="cf5bfcdd-bc03-4c5b-b554-d8a8a4067e93.htm">createSQLXML</a>-Methode
							der <a href="937292a6-1525-423e-a2b2-a18fd34c2893.htm">SQLServerConnection</a>-Klasse
							erstellt wird. Beachten Sie, dass die unten aufgeführten
							Festlegungsmethoden nur ein von der <a
								href="cf5bfcdd-bc03-4c5b-b554-d8a8a4067e93.htm">createSQLXML</a>-Methode
							erstelltes SQLXML-Objekt akzeptieren.
						</p></li>
				</ul>
				<div class="tableSection">
					<table width="50%" cellspacing="2" cellpadding="5" frame="lhs">
						<tr>
							<th><p>Methodenname</p></th>
							<th><p>SQLXML-Abrufobjekt</p>
								<p>(Lesbar)</p></th>
							<th><p>SQLXML-Festlegungsobjekt</p>
								<p>(Schreibbar)</p></th>
						</tr>
						<tr>
							<td><p>
									<b>CallableStatement.setSQLXML()</b>
								</p></td>
							<td><p>Nicht unterstützt</p></td>
							<td><p>Unterstützt</p></td>
						</tr>
						<tr>
							<td><p>
									<b>CallableStatement.setObject()</b>
								</p></td>
							<td><p>Nicht unterstützt</p></td>
							<td><p>Unterstützt</p></td>
						</tr>
						<tr>
							<td><p>
									<b>PreparedStatement.setSQLXML()</b>
								</p></td>
							<td><p>Nicht unterstützt</p></td>
							<td><p>Unterstützt</p></td>
						</tr>
						<tr>
							<td><p>
									<b>PreparedStatement.setObject()</b>
								</p></td>
							<td><p>Nicht unterstützt</p></td>
							<td><p>Unterstützt</p></td>
						</tr>
						<tr>
							<td><p>
									<b>ResultSet.updateSQLXML()</b>
								</p></td>
							<td><p>Nicht unterstützt</p></td>
							<td><p>Unterstützt</p></td>
						</tr>
						<tr>
							<td><p>
									<b>ResultSet.updateObject()</b>
								</p></td>
							<td><p>Nicht unterstützt</p></td>
							<td><p>Unterstützt</p></td>
						</tr>
						<tr>
							<td><p>
									<b>ResultSet.getSQLXML()</b>
								</p></td>
							<td><p>Unterstützt</p></td>
							<td><p>Nicht unterstützt</p></td>
						</tr>
						<tr>
							<td><p>
									<b>CallableStatement.getSQLXML()</b>
								</p></td>
							<td><p>Unterstützt</p></td>
							<td><p>Nicht unterstützt</p></td>
						</tr>
					</table>
				</div>
				<p>Wie in der Tabelle oben angegeben ist, können die
					SQLXML-Festlegungsmethoden nicht mit den lesbaren SQLXML-Objekten
					verwendet werden. Entsprechend können die Abrufmethoden nicht mit
					den schreibbaren SQLXML-Objekten verwendet werden.</p>
				<p>
					Wenn die <b>setObject</b>-Methode von der Anwendung durch Angeben
					eines Skalierungs- oder Längenparameters mit einem SQLXML-Objekt
					aufgerufen wird, wird der Skalierungs- oder Längenparameter
					ignoriert.
				</p>
			</div>
			<h1 class="heading">Richtlinien und Einschränkungen für die
				Verwendung von SQLXML-Objekten</h1>
			<div id="sectionSection2" class="section" name="collapseableSection"
				style="">
				<p>Anwendungen können mit SQLXML-Objekten XML-Daten aus einer
					Datenbank lesen oder in diese schreiben. Die folgende Liste enthält
					Informationen über bestimmte Einschränkungen und Richtlinien für
					die Verwendung von SQLXML-Objekten.</p>
				<ul>
					<li><p>Ein SQLXML-Objekt kann nur für die Dauer der
							Transaktion gültig sein, für die es erstellt wurde.</p></li>
					<li><p>Ein von einer Abrufmethode empfangenes
							SQLXML-Objekt kann nur zum Lesen von Daten verwendet werden.</p></li>
					<li><p>Ein vom Verbindungsobjekt erstelltes SQLXML-Objekt
							kann nur zum Schreiben von Daten verwendet werden.</p></li>
					<li><p>Die Anwendung kann zum Lesen von Daten nur eine
							Abrufmethode für ein lesbares SQLXML-Objekt aufrufen. Nach dem
							Aufruf der Abrufmethode führen alle weiteren Abruf- oder
							Festlegungsmethoden für das gleiche SQLXML-Objekt zu einem
							Fehler.</p></li>
					<li><p>
							Die Anwendung kann nur die <b>free</b>-Methode für das
							SQLXML-Objekt aufrufen, nachdem für dieses ein Lese- oder
							Schreibvorgang ausgeführt wurde. Es ist jedoch weiterhin möglich,
							den zurückgegebenen Datenstrom oder die zurückgegebene Quelle zu
							verarbeiten, solange die zugrunde liegende Spalte oder der
							zugrunde liegende Parameter aktiv ist. Wenn die zugrunde liegende
							Spalte oder der zugrunde liegende Parameter nicht mehr aktiv ist,
							wird der Datenstrom oder die Quelle geschlossen, der bzw. die dem
							SQLXML-Objekt zugeordnet ist. Wenn die zugrunde liegende Spalte
							oder der zugrunde liegende Parameter nicht mehr gültig ist,
							stehen die zugrunde liegenden Daten den Abrufmethoden des
							Datenstroms, der SAX (Simple API for XML) und der StAX (Streaming
							API for XML) nicht zur Verfügung.
						</p></li>
					<li><p>Die Anwendung kann nur eine Festlegungsmethode für
							ein schreibbares SQLXML-Objekt aufrufen. Nach dem Aufruf der
							Festlegungsmethode führen alle weiteren Abruf- oder
							Festlegungsmethoden für das gleiche SQLXML-Objekt zu einem
							Fehler.</p></li>
					<li><p>Damit Daten für das SQLXML-Objekt festgelegt werden
							können, muss die Anwendung die entsprechende Festlegungsmethode
							und die Funktionen im zurückgegebenen Objekt verwenden.</p></li>
					<li><p>
							Die <b>getSQLXML</b>-Methoden der <a
								href="30710a63-c05d-47d9-9cf9-c087a1c76373.htm">SQLServerCallableStatement</a>-Klasse
							und der <a href="eaffcff1-286c-459f-83da-3150778480c9.htm">SQLServerResultSet</a>-Klasse
							geben <span sdata="langKeyword" value="null"><span
								class="keyword">null</span></span>-Daten zurück, wenn die zugrunde
							liegende Spalte <span sdata="langKeyword" value="null"><span
								class="keyword">null</span></span> ist.
						</p></li>
					<li><p>Die Festlegungsobjekte können für die Dauer der
							Verbindung gültig sein, in der sie erstellt wurden.</p></li>
					<li><p>
							Es ist nicht zulässig, dass Anwendungen mithilfe der von der
							SQLXML-Schnittstelle bereitgestellten Festlegungsmethoden einen <span
								sdata="langKeyword" value="null"><span class="keyword">null</span></span>-Wert
							festlegen. Die Anwendungen können mithilfe der von der
							SQLXML-Schnittstelle bereitgestellten Festlegungsmethoden eine
							leere Zeichenfolge ("") festlegen. Zum Festlegen eines <span
								sdata="langKeyword" value="null"><span class="keyword">null</span></span>-Werts
							müssen die Anwendungen eine der folgenden Methoden aufrufen:
						</p>
						<ul>
							<li><p>
									Die <b>setNull</b>-Methoden der <a
										href="30710a63-c05d-47d9-9cf9-c087a1c76373.htm">SQLServerCallableStatement</a>-Klasse
									und der <a href="a8481c06-fbba-432b-8c69-4f4619c20ad4.htm">SQLServerPreparedStatement</a>-Klasse.
								</p></li>
							<li><p>
									Die <b>setObject</b>-Methoden der <a
										href="30710a63-c05d-47d9-9cf9-c087a1c76373.htm">SQLServerCallableStatement</a>-Klasse
									und der <a href="a8481c06-fbba-432b-8c69-4f4619c20ad4.htm">SQLServerPreparedStatement</a>-Klasse.
								</p></li>
							<li><p>
									Die <b>setSQLXML</b>-Methoden der <a
										href="30710a63-c05d-47d9-9cf9-c087a1c76373.htm">SQLServerCallableStatement</a>-Klasse
									und der <a href="a8481c06-fbba-432b-8c69-4f4619c20ad4.htm">SQLServerPreparedStatement</a>-Klasse
									mit einem <span sdata="langKeyword" value="null"><span
										class="keyword">null</span></span>-Parameterwert.
								</p></li>
						</ul></li>
					<li><p>Für die Arbeit mit XML-Dokumenten wird aus
							Leistungsgründen die Verwendung der SAX (Simple API for XML)- und
							StAX (Streaming API for XML)-Parser anstelle von DOM (Document
							Object Model)-Parsern empfohlen.</p></li>
				</ul>
				<p>XML-Parser können leere Werte nicht behandeln. SQL Server
					erlaubt Anwendungen jedoch das Abrufen und Speichern leerer Werte
					aus bzw. in Datenbankspalten mit dem XML-Datentyp. Dies bedeutet,
					dass beim Analysieren der XML-Daten vom Parser eine Ausnahme
					ausgelöst wird, wenn der zugrunde liegende Wert leer ist. Bei
					DOM-Ausgaben fängt der JDBC-Treiber die Ausnahme ab und löst einen
					Fehler aus. Bei SAX- und StAX-Ausgaben stammt der Fehler direkt vom
					Parser.</p>
			</div>
			<h1 class="heading">Adaptive Pufferung und SQLXML-Unterstützung</h1>
			<div id="sectionSection3" class="section" name="collapseableSection"
				style="">
				<p>
					Die vom SQLXML-Objekt zurückgegebenen Binär- und Zeichendatenströme
					richten sich nach den Modi für die adaptive oder vollständige
					Pufferung. Wenn die XML-Parser hingegen keine Datenströme sind,
					berücksichtigen sie die Einstellungen für adaptive oder
					vollständige Pufferung nicht. Weitere Informationen zur adaptiven
					Pufferung finden Sie unter <span sdata="link"><a
						href="92d4e3be-c3e9-4732-9a60-b57f4d0f7cb7.htm">Verwenden der
							adaptiven Pufferung</a></span>.
				</p>
			</div>
			<span id="seeAlsoSpan"><h1 class="heading">Siehe auch</h1></span>
			<div id="seeAlsoSection" class="section" name="collapseableSection"
				style="">
				<div class="seeAlsoStyle">
					<span sdata="link"><a
						href="32b7217e-1f0c-473d-9a45-176daa81584e.htm">Unterstützen
							von XML-Daten</a></span>
				</div>
			</div>
		</div>
		<div id="footer" class="section">
			<span id="feedbackarea">Senden Sie Microsoft <a
				href="javascript:SubmitFeedback('DevDocs@Microsoft.com','','','','8.0.12060.10000','%0\dVielen%20Dank%20für%20Ihr%20Feedback.%20Die%20Autorenteams%20im%20Bereich%20Entwicklung%20nutzen%20Ihr%20Feedback,%20um%20die%20Dokumentation%20zu%20verbessern.%20Im%20Rahmen%20der%20Überprüfung%20Ihres%20Feedbacks%20erhalten%20Sie%20von%20uns%20ggf.%20eine%20E-Mail%20mit%20Rückfragen%20oder%20Feedback%20zur%20möglichen%20Lösung.%20Ihre%20E-Mail-Adresse%20wird%20von%20uns%20nicht%20zu%20anderen%20Zwecken%20verwendet%20und%20wird%20gelöscht,%20sobald%20die%20Überprüfung%20Ihres%20Feedbacks%20abgeschlossen%20ist.%0\AWeitere%20Informationen%20zu%20den%20Datenschutzrichtlinien%20von%20Microsoft%20finden%20Sie%20unter%20http://privacy.microsoft.com/de-de/default.aspx.%0\A%0\d','Kundenfeedback');">Feedback</a>
				zu diesem Thema.
			</span><span id="copyrightarea"><p>
					<a href="9bad553b-9e70-4696-8499-2e35f772a1e0.htm">© 2012
						Microsoft. Alle Rechte vorbehalten.</a>
				</p></span>
		</div>
	</div>
</body>
</html>