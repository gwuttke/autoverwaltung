allprojects {

	version = '0.1.0.auto'
	group = "de.gw.auto"
	repositories {
		mavenCentral()
	}
}

apply plugin: "base"

configure(subprojects.findAll { it.name }) {
	apply plugin: "java"
	
	sourceCompatibility = 1.8
	targetCompatibility = sourceCompatibility
	
	configurations {
		provided
	}
	
	sourceSets {
		main.compileClasspath += [configurations.provided]
		test {
			compileClasspath += [configurations.provided]
			runtimeClasspath += [configurations.provided]
		}
	}
}

subprojects {

	apply plugin: "eclipse"
	apply plugin: "eclipse-wtp"
	
	sourceCompatibility = 1.6
	targetCompatibility = 1.8
		
	compileJava.options.encoding = "UTF-8"
	compileTestJava.options.encoding = "UTF-8"

	eclipse.project.natures "org.springsource.ide.eclipse.gradle.core.nature"	
	eclipse.classpath.plusConfigurations += [configurations.provided]
}

task wrapper(type: Wrapper) {
	gradleVersion = "2.2.1"
}
